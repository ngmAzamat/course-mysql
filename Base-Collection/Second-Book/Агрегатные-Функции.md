### ‚úÖ –ì–ª–∞–≤–∞ VIII: **–ê–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏** –≤ MySQL

–¢—ã –ø–æ–¥–æ—à—ë–ª –∫ **–∞–≥—Ä–µ–≥–∞—Ç–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º** –∏ **–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–µ –¥–∞–Ω–Ω—ã—Ö** ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∞–Ω–∞–ª–∏–∑–∞ –≤ SQL.

---

#### ‚úÖ **–ê–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ MySQL**

| –§—É–Ω–∫—Ü–∏—è        | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                      |
| -------------- | ------------------------------- |
| `COUNT(*)`     | –°—á–∏—Ç–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫        |
| `SUM(–∫–æ–ª–æ–Ω–∫–∞)` | –°—É–º–º–∏—Ä—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –≤ –∫–æ–ª–æ–Ω–∫–µ    |
| `AVG(–∫–æ–ª–æ–Ω–∫–∞)` | –°—Ä–µ–¥–Ω–µ–µ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–π |
| `MIN(–∫–æ–ª–æ–Ω–∫–∞)` | –ú–∏–Ω–∏–º—É–º                         |
| `MAX(–∫–æ–ª–æ–Ω–∫–∞)` | –ú–∞–∫—Å–∏–º—É–º                        |

---

##### üì¶ –ü—Ä–∏–º–µ—Ä: —Ç–∞–±–ª–∏—Ü–∞ `orders`

```sql
CREATE TABLE orders (
  id INT PRIMARY KEY AUTO_INCREMENT,
  user_id INT,
  amount DECIMAL(10,2)
);

INSERT INTO orders (user_id, amount) VALUES
(1, 100.00),
(2, 250.50),
(1, 300.00),
(3, 75.00),
(2, 120.00);
```

---

##### üî¢ –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤:

```sql
-- –í—Å–µ–≥–æ –∑–∞–∫–∞–∑–æ–≤
SELECT COUNT(*) FROM orders;

-- –û–±—â–∞—è —Å—É–º–º–∞
SELECT SUM(amount) FROM orders;

-- –°—Ä–µ–¥–Ω—è—è —Å—É–º–º–∞ –∑–∞–∫–∞–∑–∞
SELECT AVG(amount) FROM orders;

-- –°–∞–º—ã–π –±–æ–ª—å—à–æ–π –∑–∞–∫–∞–∑
SELECT MAX(amount) FROM orders;

-- –°–∞–º—ã–π –º–∞–ª–µ–Ω—å–∫–∏–π –∑–∞–∫–∞–∑
SELECT MIN(amount) FROM orders;
```

---

#### üîÑ `GROUP BY` ‚Äî –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞

–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç **—Å–æ–±–∏—Ä–∞—Ç—å —Å—Ç—Ä–æ–∫–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ `user_id`)
–∏ –ø—Ä–∏–º–µ–Ω—è—Ç—å –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∫ –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø–µ.

```sql
-- –°–∫–æ–ª—å–∫–æ –∑–∞–∫–∞–∑–æ–≤ —É –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
SELECT user_id, COUNT(*) AS total_orders
FROM orders
GROUP BY user_id;
```

---

#### üß™ `HAVING` ‚Äî —É—Å–ª–æ–≤–∏–µ –ø–æ—Å–ª–µ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏

–ü–æ—Ö–æ–∂ –Ω–∞ `WHERE`, –Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç **–ø–æ—Å–ª–µ `GROUP BY`**.

```sql
-- –¢–æ–ª—å–∫–æ —Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, —É –∫–æ–≥–æ –±–æ–ª—å—à–µ –æ–¥–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞
SELECT user_id, COUNT(*) AS total_orders
FROM orders
GROUP BY user_id
HAVING total_orders > 1;
```

---

##### üß† –°—Ä–∞–≤–Ω–µ–Ω–∏–µ:

| –£—Å–ª–æ–≤–∏–µ  | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å         |
| -------- | -------------------------- |
| `WHERE`  | –ø–µ—Ä–µ–¥ `GROUP BY`           |
| `HAVING` | –ø–æ—Å–ª–µ `GROUP BY` –∏ `COUNT` |

---

–•–æ—á–µ—à—å –ø—Ä–∏–º–µ—Ä —Å `GROUP BY` + `SUM` –∏ `HAVING` –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, –∫–∞–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –æ—Ç—á—ë—Ç–µ?
